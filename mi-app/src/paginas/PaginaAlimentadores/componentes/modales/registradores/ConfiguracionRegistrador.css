/* ============================================================================
   ConfiguracionRele.css - Diseño Simplificado
   Estilos para el componente de configuración de relés basado en plantillas
   ============================================================================ */

.config-rele {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 8px 0;
}

/* ============================================================================
   FILA SUPERIOR: Conexión + Transformadores | Plantilla
   ============================================================================ */

.config-rele-row-superior {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

/* Wrapper izquierdo contiene Conexión y Transformadores lado a lado */
.config-rele-col-izquierda {
  display: flex;
  gap: 16px;
}

/* Conexión se ajusta a su contenido */
.config-rele-col-izquierda .config-rele-seccion--conexion {
  flex: 0 0 auto;
}

/* Transformadores se expande para llenar el espacio */
.config-rele-col-izquierda .config-rele-seccion--transformadores {
  flex: 1 1 auto;
  min-width: 320px;
}

.config-rele-seccion--conexion {
  /* Conexión a la izquierda */
}

.config-rele-seccion--transformadores {
  /* Transformadores en el centro */
}

.config-rele-seccion--plantilla {
  /* Plantilla a la derecha */
}

/* Fila inferior: Consola | Funcionalidades - misma estructura que fila superior */
.config-rele-row-inferior {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  align-items: stretch;
}

/* Consola ocupa la primera columna */
.config-rele-seccion--consola {
  display: flex;
  flex-direction: column;
}

/* Funcionalidades ocupa la segunda columna */
.config-rele-seccion--funcionalidades {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  max-height: 652px;
}

/* ============================================================================
   CONSOLA DE TEST
   ============================================================================ */

.config-rele-consola-container {
  display: flex;
  gap: 0;
  position: relative;
}

/* Resizer (splitter) entre los paneles */
.config-rele-resizer {
  width: 8px;
  background: #2a3447;
  cursor: col-resize;
  flex-shrink: 0;
  transition: background 0.2s;
  position: relative;
}

.config-rele-resizer::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 40px;
  background: #4b5567;
  border-radius: 2px;
}

.config-rele-resizer:hover {
  background: #3b4557;
}

.config-rele-resizer:hover::after {
  background: #6b7587;
}

.config-rele-resizer:active {
  background: #2563eb;
}

.config-rele-resizer:active::after {
  background: #93c5fd;
}

.config-rele-consola {
  flex: none;
  background: #0d1117;
  border: 1px solid #2a3447;
  border-radius: 6px;
  padding: 12px;
  height: 530px;
  max-height: 530px;
  overflow-y: scroll;
  font-family: "Consolas", "Monaco", "Courier New", monospace;
  font-size: 0.85rem;
  line-height: 1.5;
  /* Firefox scrollbar */
  scrollbar-width: auto;
  scrollbar-color: #4b5567 #1a1f2e;
}

/* Scrollbar personalizado para la consola - siempre visible */
.config-rele-consola::-webkit-scrollbar {
  width: 36px;
  background: #1a1f2e;
}

.config-rele-consola::-webkit-scrollbar-track {
  background: #1a1f2e;
  border-radius: 4px;
}

.config-rele-consola::-webkit-scrollbar-thumb {
  background: #5b6577;
  border-radius: 8px;
  border: 4px solid #1a1f2e;
}

.config-rele-consola::-webkit-scrollbar-thumb:hover {
  background: #4b5567;
}

/* Panel de registros (derecha de la consola) */
.config-rele-registros-panel {
  flex: none;
  background: #0d1117;
  border: 1px solid #2a3447;
  border-radius: 6px;
  padding: 12px;
  height: 530px;
  max-height: 530px;
  overflow-y: scroll;
  overflow-x: auto;
  font-family: "Consolas", "Monaco", "Courier New", monospace;
  font-size: 0.85rem;
  line-height: 1.5;
  scrollbar-width: auto;
  scrollbar-color: #4b5567 #1a1f2e;
}

.config-rele-registros-panel::-webkit-scrollbar {
  width: 12px;
  height: 12px;
  background: #1a1f2e;
}

.config-rele-registros-panel::-webkit-scrollbar-track {
  background: #1a1f2e;
  border-radius: 4px;
}

.config-rele-registros-panel::-webkit-scrollbar-thumb {
  background: #5b6577;
  border-radius: 6px;
  border: 2px solid #1a1f2e;
}

.config-rele-registros-panel::-webkit-scrollbar-thumb:hover {
  background: #6b7587;
}

.config-rele-registros-panel::-webkit-scrollbar-corner {
  background: #1a1f2e;
}

.config-rele-registros-vacio {
  color: #52525b;
  font-style: italic;
  text-align: center;
  padding-top: 80px;
}

/* Panel de funcionalidades con valores */
.config-rele-funcionalidades-valores {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.config-rele-valores-categoria {
  margin-bottom: 8px;
}

.config-rele-valores-categoria-titulo {
  color: #a1a1aa;
  font-weight: 600;
  font-size: 0.9rem;
  margin-bottom: 8px;
  padding-bottom: 4px;
  border-bottom: 1px solid #2a3447;
}

.config-rele-valores-func {
  margin-bottom: 12px;
}

.config-rele-valores-func-nombre {
  color: #93c5fd;
  font-weight: 500;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.config-rele-valores-registros {
  padding-left: 16px;
}

.config-rele-valores-registro {
  color: #fde68a;
  font-size: 0.85rem;
  padding: 2px 0;
}

/* Valor transformado con fórmula TI/TV */
.config-rele-valor-transformado {
  color: #86efac;
  font-weight: 500;
  cursor: help;
}

.config-rele-registros-tabla {
  width: 100%;
  border-collapse: collapse;
  white-space: nowrap;
}

.config-rele-registros-tabla th {
  position: sticky;
  top: 0;
  background: #1a1f2e;
  color: #a1a1aa;
  font-weight: 500;
  font-size: 0.8rem;
  text-align: left;
  padding: 8px 10px;
  border-bottom: 1px solid #2a3447;
}

.config-rele-registros-tabla td {
  padding: 4px 10px;
  color: #e4e4e7;
  border-bottom: 1px solid #1a1f2e;
}

.config-rele-registros-tabla tr:hover td {
  background: rgba(37, 99, 235, 0.08);
}

.config-rele-registros-tabla .col-registro {
  color: #71717a;
  font-size: 0.8rem;
}

.config-rele-registros-tabla .col-decimal {
  color: #fde68a;
}

.config-rele-registros-tabla .col-hex {
  color: #93c5fd;
  font-size: 0.8rem;
}

.config-rele-consola-vacio {
  color: #52525b;
  font-style: italic;
  text-align: center;
  padding-top: 80px;
}

.config-rele-consola-linea {
  display: flex;
  gap: 8px;
  padding: 2px 0;
}

.config-rele-consola-timestamp {
  color: #6b7280;
  flex-shrink: 0;
}

.config-rele-consola-mensaje {
  word-break: break-word;
}

/* Tipos de log */
.config-rele-consola-linea--info .config-rele-consola-mensaje {
  color: #93c5fd;
}

.config-rele-consola-linea--success .config-rele-consola-mensaje {
  color: #86efac;
}

.config-rele-consola-linea--error .config-rele-consola-mensaje {
  color: #fca5a5;
}

.config-rele-consola-linea--data .config-rele-consola-mensaje {
  color: #fde68a;
}

/* Acciones de la consola */
.config-rele-consola-acciones {
  display: flex;
  gap: 10px;
  margin-top: 12px;
}

.config-rele-btn-test,
.config-rele-btn-csv,
.config-rele-btn-limpiar {
  padding: 10px 16px;
  border-radius: 6px;
  font-size: 0.85rem;
  cursor: pointer;
  border: none;
  transition: all 0.2s;
}

.config-rele-btn-test {
  background: #2563eb;
  color: white;
  flex: 1;
}

.config-rele-btn-test:hover:not(:disabled) {
  background: #1d4ed8;
}

.config-rele-btn-test:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.config-rele-btn-csv {
  background: #059669;
  color: white;
}

.config-rele-btn-csv:hover:not(:disabled) {
  background: #047857;
}

.config-rele-btn-csv:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.config-rele-btn-limpiar {
  background: #374151;
  color: #e4e4e7;
}

.config-rele-btn-limpiar:hover:not(:disabled) {
  background: #4b5563;
}

.config-rele-btn-limpiar:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ============================================================================
   SECCIONES
   ============================================================================ */

.config-rele-seccion {
  background: #252b3b;
  border-radius: 8px;
  padding: 16px;
  border: 1px solid #2a3447;
}

.config-rele-seccion h6 {
  margin: 0 0 14px 0;
  font-size: 0.9rem;
  font-weight: 600;
  color: #e4e4e7;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Contador de funcionalidades */
.config-rele-contador {
  margin-left: auto;
  font-size: 0.8rem;
  font-weight: 400;
  color: #71717a;
  background: #1a1f2e;
  padding: 2px 8px;
  border-radius: 10px;
}

/* ============================================================================
   SECCIÓN PLANTILLA
   ============================================================================ */

.config-rele-plantilla-row {
  display: flex;
  gap: 8px;
  align-items: center;
}

.config-rele-plantilla-row .config-rele-select {
  flex: 1;
  min-width: 0;
}

.config-rele-select {
  flex: 1;
  padding: 8px 10px;
  background: #1a1f2e;
  border: 1px solid #2a3447;
  border-radius: 6px;
  color: #e4e4e7;
  font-size: 0.85rem;
  cursor: pointer;
}

.config-rele-select:focus {
  outline: none;
  border-color: #2563eb;
}

.config-rele-select--error {
  border-color: #dc2626;
}

.config-rele-btn-plantilla {
  padding: 10px 12px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 0.8rem;
  cursor: pointer;
  white-space: nowrap;
  transition: background 0.2s;
}

.config-rele-btn-plantilla:hover {
  background: #1d4ed8;
}

.config-rele-btn-plantilla--secundario {
  background: #374151;
}

.config-rele-btn-plantilla--secundario:hover {
  background: #4b5563;
}

/* Alertas y mensajes */
.config-rele-alerta {
  margin-top: 10px;
  padding: 10px 14px;
  background: rgba(220, 38, 38, 0.1);
  border: 1px solid #dc2626;
  border-radius: 6px;
  color: #fca5a5;
  font-size: 0.85rem;
}

.config-rele-mensaje {
  margin-top: 10px;
  padding: 10px 14px;
  background: rgba(37, 99, 235, 0.1);
  border: 1px solid #2563eb;
  border-radius: 6px;
  color: #93c5fd;
  font-size: 0.85rem;
}

.config-rele-plantilla-desc {
  margin-top: 10px;
  padding: 8px 12px;
  background: #1a1f2e;
  border-radius: 4px;
  color: #a1a1aa;
  font-size: 0.85rem;
  font-style: italic;
}

/* ============================================================================
   SECCIÓN CONEXIÓN MODBUS
   ============================================================================ */

.config-rele-conexion-fila {
  display: flex;
  align-items: flex-end;
  gap: 12px;
}

.config-rele-conexion-grupo {
  display: flex;
  align-items: flex-end;
  gap: 14px;
  background: #1a1f2e;
  padding: 10px 12px;
  border-radius: 6px;
  border: 1px solid #2a3447;
}

.config-rele-conexion-grupo .config-rele-campo-inline {
  flex: 0 0 auto;
  width: 65px;
}

/* Solo el primer grupo tiene IP que necesita ser más ancho */
.config-rele-conexion-grupo:first-child .config-rele-campo-inline:first-child {
  width: 130px;
}

/* ============================================================================
   SECCIÓN TRANSFORMADORES - COMPACTO
   ============================================================================ */

.config-rele-transformadores-compacto {
  display: flex;
  gap: 12px;
  align-items: flex-end;
  position: relative;
  background: #1a1f2e;
  padding: 10px 12px;
  border-radius: 6px;
  border: 1px solid #2a3447;
}

.config-rele-transformadores-compacto .config-rele-campo-inline {
  flex: 1;
}

.config-rele-btn-ver-transformadores {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 10px;
  background: #1a1f2e;
  border: 1px solid #2a3447;
  border-radius: 6px;
  color: #e4e4e7;
  font-size: 0.8rem;
  cursor: pointer;
  transition: all 0.2s;
  width: 100%;
}

.config-rele-btn-ver-transformadores:hover {
  border-color: #2563eb;
  color: #93c5fd;
}

.config-rele-dropdown-arrow {
  font-size: 0.7rem;
  color: #71717a;
  transition: transform 0.2s;
}

.config-rele-dropdown-arrow.abierto {
  transform: rotate(180deg);
}

.config-rele-btn-editar-transformador {
  padding: 8px 10px;
  background: #374151;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s;
  font-size: 0.85rem;
}

.config-rele-btn-editar-transformador:hover {
  background: #4b5563;
}

/* Dropdown de transformadores - versión fixed a la derecha */
.config-rele-transformadores-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 4px;
  background: #1a1f2e;
  border: 1px solid #2a3447;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
  min-width: 340px;
  max-height: 450px;
  overflow: hidden;
  z-index: 100;
  display: flex;
  flex-direction: column;
}

/* Versión fixed - aparece a la derecha del trigger */
.config-rele-transformadores-dropdown--fixed {
  position: fixed;
  margin-top: 0;
  z-index: 3000;
}

/* Tabs del dropdown */
.config-rele-dropdown-tabs {
  display: flex;
  gap: 2px;
  padding: 8px 8px 0 8px;
  background: #252b3b;
  border-bottom: 1px solid #2a3447;
  flex-shrink: 0;
}

.config-rele-dropdown-tab {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: transparent;
  border: none;
  border-bottom: 2px solid transparent;
  color: #71717a;
  font-size: 0.8rem;
  cursor: pointer;
  transition: all 0.15s;
  margin-bottom: -1px;
}

.config-rele-dropdown-tab:hover:not(:disabled) {
  color: #a1a1aa;
  background: rgba(255, 255, 255, 0.03);
}

.config-rele-dropdown-tab.activo {
  color: #e4e4e7;
  border-bottom-color: #2563eb;
  background: rgba(37, 99, 235, 0.1);
}

.config-rele-dropdown-tab.vacio:not(.activo) {
  opacity: 0.4;
}

.config-rele-dropdown-tab:disabled {
  cursor: not-allowed;
}

.config-rele-dropdown-tab-count {
  font-size: 0.7rem;
  padding: 2px 6px;
  background: #2a3447;
  border-radius: 10px;
  min-width: 18px;
  text-align: center;
}

.config-rele-dropdown-tab.activo .config-rele-dropdown-tab-count {
  background: #2563eb;
  color: white;
}

/* Contenido scrolleable */
.config-rele-dropdown-contenido {
  flex: 1;
  overflow-y: auto;
  padding: 8px 0;
  scrollbar-width: thin;
  scrollbar-color: #4b5567 #1a1f2e;
}

.config-rele-dropdown-contenido::-webkit-scrollbar {
  width: 8px;
}

.config-rele-dropdown-contenido::-webkit-scrollbar-track {
  background: #1a1f2e;
}

.config-rele-dropdown-contenido::-webkit-scrollbar-thumb {
  background: #4b5567;
  border-radius: 4px;
}

.config-rele-dropdown-contenido::-webkit-scrollbar-thumb:hover {
  background: #5b6577;
}

.config-rele-dropdown-titulo {
  padding: 8px 16px 6px 16px;
  font-size: 0.7rem;
  font-weight: 600;
  color: #71717a;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.config-rele-dropdown-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 16px;
  gap: 16px;
  transition: background 0.15s;
}

.config-rele-dropdown-item:hover {
  background: rgba(37, 99, 235, 0.15);
}

.config-rele-dropdown-nombre {
  color: #e4e4e7;
  font-size: 0.85rem;
  white-space: nowrap;
}

/* Input readonly para la fórmula - estilo similar a DropdownTransformador */
.config-rele-dropdown-formula-input {
  padding: 5px 10px;
  background: #252b3b;
  border: 1px solid #2a3447;
  border-radius: 4px;
  color: #e4e4e7;
  font-size: 0.8rem;
  font-family: "Consolas", "Monaco", monospace;
  text-align: center;
  pointer-events: none;
  white-space: nowrap;
  width: auto;
  field-sizing: content;
}

/* Línea divisoria con degradado */
.config-rele-dropdown-divider {
  height: 1px;
  margin: 8px 16px;
  background: linear-gradient(
    to right,
    transparent 0%,
    #3b4557 20%,
    #4b5567 50%,
    #3b4557 80%,
    transparent 100%
  );
}

.config-rele-dropdown-vacio {
  padding: 20px 16px;
  color: #52525b;
  font-size: 0.85rem;
  text-align: center;
  font-style: italic;
}

/* ============================================================================
   CAMPOS INLINE
   ============================================================================ */

.config-rele-campo-inline {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.config-rele-campo-inline label {
  font-size: 0.75rem;
  color: #e4e4e7;
  white-space: nowrap;
  text-align: center;
}

.config-rele-campo-inline input {
  padding: 8px 4px;
  background: #1a1f2e;
  border: 1px solid #2a3447;
  border-radius: 6px;
  color: #e4e4e7;
  font-size: 0.8rem;
  text-align: center;
  width: 100%;
}

.config-rele-conexion-grupo .config-rele-campo-inline:first-child input {
  text-align: left;
  padding: 8px 10px;
}

.config-rele-campo-inline input:focus {
  outline: none;
  border-color: #2563eb;
}

.config-rele-campo-inline input::placeholder {
  color: #52525b;
}

.config-rele-campo-inline input:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* Input con sufijo (ej: "seg") */
.config-rele-input-con-sufijo {
  display: flex;
  align-items: center;
  background: #1a1f2e;
  border: 1px solid #2a3447;
  border-radius: 6px;
  overflow: hidden;
  height: 34px;
}

.config-rele-input-con-sufijo input {
  flex: 1;
  border: none;
  border-radius: 0;
  background: transparent;
  min-width: 40px;
  height: 100%;
  padding: 0 4px;
}

.config-rele-input-con-sufijo input:focus {
  outline: none;
}

.config-rele-input-con-sufijo:focus-within {
  border-color: #2563eb;
}

.config-rele-input-sufijo {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 8px;
  background: #252b3b;
  color: #71717a;
  font-size: 0.85rem;
  border-left: 1px solid #2a3447;
  height: 100%;
  white-space: nowrap;
}

/* Ocultar spinners en inputs number */
.config-rele-campo-inline input[type="number"]::-webkit-outer-spin-button,
.config-rele-campo-inline input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.config-rele-campo-inline input[type="number"] {
  -moz-appearance: textfield;
}

/* ============================================================================
   SECCIÓN FUNCIONALIDADES
   ============================================================================ */

.config-rele-funcionalidades {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.config-rele-categoria {
  border: 1px solid #2a3447;
  border-radius: 6px;
  overflow: hidden;
  padding-bottom: 12px;
}

.config-rele-categoria-header {
  padding: 10px 14px;
  background: #1a1f2e;
  font-size: 0.85rem;
  color: #a1a1aa;
  font-weight: 500;
}

.config-rele-func-lista {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 12px 14px 0 14px;
}

.config-rele-func-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 14px;
  border-top: 1px solid #2a3447;
  transition: background 0.2s;
}

.config-rele-func-item:first-child {
  border-top: none;
}

.config-rele-func-item.activo {
  background: rgba(37, 99, 235, 0.1);
}

.config-rele-func-check {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
}

.config-rele-func-check input[type="checkbox"] {
  width: 16px;
  height: 16px;
  cursor: pointer;
  accent-color: #2563eb;
}

.config-rele-func-nombre {
  color: #ffffff;
  font-size: 0.9rem;
  font-weight: 500;
}

.config-rele-func-registro {
  display: flex;
  align-items: center;
  gap: 8px;
}

.config-rele-func-registro label {
  font-size: 0.8rem;
  color: #71717a;
}

.config-rele-func-registro input {
  width: 70px;
  padding: 6px 8px;
  background: #1a1f2e;
  border: 1px solid #2a3447;
  border-radius: 4px;
  color: #e4e4e7;
  font-size: 0.85rem;
  text-align: center;
}

.config-rele-func-registro input:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.config-rele-func-registro input:focus {
  outline: none;
  border-color: #2563eb;
}

/* Ocultar spinners en inputs number */
.config-rele-func-registro input[type="number"]::-webkit-outer-spin-button,
.config-rele-func-registro input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.config-rele-func-registro input[type="number"] {
  -moz-appearance: textfield;
}

/* ============================================================================
   NUEVA ESTRUCTURA: FUNCIONALIDADES COMO CARDS
   ============================================================================ */

.config-rele-func-card {
  background: #1a1f2e;
  border-radius: 8px;
  padding: 12px;
  border: 1px solid #3b4557;
  transition: all 0.2s;
  flex: 0 0 auto;
}

.config-rele-func-card.activo {
  border-color: #2563eb;
  background: rgba(37, 99, 235, 0.08);
}

.config-rele-func-card.inactivo {
  opacity: 0.7;
  border-color: #3b4557;
}

.config-rele-func-header {
  display: flex;
  align-items: center;
  margin-bottom: 8px;
  gap: 12px;
}

/* Contenido de la card: registros + transformador */
.config-rele-func-contenido {
  display: flex;
  align-items: stretch;
  gap: 12px;
  padding: 8px 4px;
}

/* Contenedor de registros */
.config-rele-registros {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 6px;
  padding: 10px 14px;
  background: #0d1117;
  border-radius: 6px;
  border: 1px solid #2a3447;
}

/* Separador vertical con degradado */
.config-rele-func-separador-vertical {
  width: 1px;
  align-self: stretch;
  background: linear-gradient(
    to bottom,
    transparent 0%,
    #3b4557 20%,
    #4b5567 50%,
    #3b4557 80%,
    transparent 100%
  );
}

/* Contenedor del transformador */
.config-rele-func-transformador {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 6px;
  padding: 10px 14px;
  background: #0d1117;
  border-radius: 6px;
  border: 1px solid #2a3447;
}

.config-rele-func-transformador-nombre {
  color: #93c5fd;
  font-weight: 500;
  font-size: 0.8rem;
  text-align: center;
}

.config-rele-func-transformador-formula {
  padding: 5px 10px;
  background: #252b3b;
  border: 1px solid #2a3447;
  border-radius: 4px;
  color: #e4e4e7;
  font-size: 0.85rem;
  font-family: "Consolas", "Monaco", monospace;
  pointer-events: none;
  width: auto;
  field-sizing: content;
  text-align: center;
}

.config-rele-registro-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.config-rele-registro-etiqueta {
  font-size: 0.85rem;
  color: #ffffff;
}

.config-rele-registro-input-grupo {
  display: flex;
  align-items: center;
  gap: 8px;
}

.config-rele-registro-separador {
  color: #52525b;
  font-size: 1.2rem;
}

.config-rele-registro-valor {
  width: 80px;
  padding: 6px 10px;
  background: #252b3b;
  border: 1px solid #2a3447;
  border-radius: 4px;
  color: #e4e4e7;
  font-size: 0.85rem;
  text-align: center;
}

.config-rele-registro-valor:focus {
  outline: none;
  border-color: #2563eb;
}

.config-rele-registro-valor:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* Ocultar spinners */
.config-rele-registro-valor::-webkit-outer-spin-button,
.config-rele-registro-valor::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.config-rele-registro-valor {
  -moz-appearance: textfield;
}

/* ============================================================================
   TABLA DE FUNCIONALIDADES CON FILAS EXPANDIBLES
   ============================================================================ */

/* ============================================================================
   TABS DE FUNCIONALIDADES
   ============================================================================ */

.config-rele-tabs {
  display: flex;
  gap: 4px;
  margin-bottom: 16px;
  border-bottom: 1px solid #2a3447;
  padding-bottom: 0;
}

.config-rele-tab {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  color: #71717a;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s;
  margin-bottom: -1px;
}

.config-rele-tab:hover {
  color: #a1a1aa;
  background: rgba(255, 255, 255, 0.02);
}

.config-rele-tab.activo {
  color: #e4e4e7;
  border-bottom-color: #2563eb;
  background: rgba(37, 99, 235, 0.08);
}

.config-rele-tab-icono {
  font-size: 1rem;
}

.config-rele-tab-nombre {
  font-weight: 500;
}

.config-rele-tab-contador {
  background: #2a3447;
  color: #71717a;
  font-size: 0.75rem;
  padding: 2px 6px;
  border-radius: 10px;
  min-width: 20px;
  text-align: center;
}

.config-rele-tab.activo .config-rele-tab-contador {
  background: #2563eb;
  color: white;
}

.config-rele-tab-contenido {
  flex: 1;
  min-height: 0;
  overflow-y: auto;
  border: 1px solid #2a3447;
  border-radius: 6px;
  background: #1a1f2e;
  /* Scrollbar personalizado */
  scrollbar-width: thin;
  scrollbar-color: #4b5567 #1a1f2e;
}

.config-rele-tab-contenido::-webkit-scrollbar {
  width: 8px;
}

.config-rele-tab-contenido::-webkit-scrollbar-track {
  background: #1a1f2e;
  border-radius: 4px;
}

.config-rele-tab-contenido::-webkit-scrollbar-thumb {
  background: #4b5567;
  border-radius: 4px;
}

.config-rele-tab-contenido::-webkit-scrollbar-thumb:hover {
  background: #5b6577;
}

.config-rele-tab-vacio {
  text-align: center;
  color: #52525b;
  font-style: italic;
  padding: 40px 20px;
}

.config-rele-tabla-funcionalidades {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.config-rele-tabla-categoria {
  background: #1a1f2e;
  border-radius: 8px;
  border: 1px solid #2a3447;
  overflow: hidden;
}

.config-rele-tabla-categoria-header {
  padding: 10px 14px;
  background: #252b3b;
  border-bottom: 1px solid #2a3447;
  font-size: 0.85rem;
  color: #93c5fd;
  font-weight: 500;
}

.config-rele-tabla {
  width: 100%;
  border-collapse: collapse;
}

.config-rele-tabla thead {
  background: #161b26;
}

.config-rele-tabla th {
  padding: 10px 12px;
  text-align: left;
  font-size: 0.75rem;
  font-weight: 500;
  color: #71717a;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 1px solid #2a3447;
}

.config-rele-tabla-th-check {
  width: 40px;
  text-align: center;
}

.config-rele-tabla-th-nombre {
  min-width: 200px;
}

.config-rele-tabla-th-registros {
  min-width: 180px;
}

.config-rele-tabla-th-ti-tv {
  min-width: 140px;
}

/* Filas de la tabla */
.config-rele-tabla-fila {
  border-bottom: 1px solid #2a3447;
  transition: background 0.15s;
}

.config-rele-tabla-fila:last-child {
  border-bottom: none;
}

.config-rele-tabla-fila:hover {
  background: rgba(255, 255, 255, 0.02);
}

.config-rele-tabla-fila.activo {
  background: rgba(37, 99, 235, 0.05);
}

.config-rele-tabla-fila.inactivo {
  opacity: 0.6;
}

.config-rele-tabla-fila.expandida {
  background: rgba(37, 99, 235, 0.08);
}

/* Celdas */
.config-rele-tabla td {
  padding: 10px 12px;
  vertical-align: top;
  font-size: 0.85rem;
  color: #e4e4e7;
}

.config-rele-tabla-td-check {
  text-align: center;
  vertical-align: middle;
}

.config-rele-tabla-td-check input[type="checkbox"] {
  width: 16px;
  height: 16px;
  cursor: pointer;
  accent-color: #2563eb;
}

/* Botón expandir */
.config-rele-tabla-btn-expandir {
  display: flex;
  align-items: center;
  gap: 8px;
  background: none;
  border: none;
  color: #e4e4e7;
  font-size: 0.9rem;
  cursor: pointer;
  padding: 0;
  text-align: left;
  width: 100%;
}

.config-rele-tabla-btn-expandir:hover .config-rele-tabla-nombre-texto {
  color: #93c5fd;
}

.config-rele-tabla-chevron {
  font-size: 0.6rem;
  color: #71717a;
  transition: transform 0.2s;
}

.config-rele-tabla-chevron.expandido {
  transform: rotate(90deg);
}

.config-rele-tabla-nombre-texto {
  font-weight: 500;
  transition: color 0.15s;
}

/* Contenido expandido */
.config-rele-tabla-expandido {
  padding: 8px;
  background: #0d1117;
  border-radius: 6px;
  border: 1px solid #2a3447;
}

/* Fila expandida ocupa todo el ancho */
.config-rele-tabla-fila-expandida {
  background: rgba(37, 99, 235, 0.05);
}

.config-rele-tabla-fila-expandida > td {
  padding: 10px 12px;
}

/* Subtabla de registros */
.config-rele-subtabla {
  width: 100%;
  border-collapse: collapse;
}

.config-rele-subtabla th {
  padding: 6px 10px;
  text-align: left;
  font-size: 0.7rem;
  font-weight: 500;
  color: #71717a;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 1px solid #2a3447;
  white-space: nowrap;
}

/* Columna Etiqueta: ancho pequeño */
.config-rele-subtabla th:first-child,
.config-rele-subtabla td:first-child {
  width: 80px;
}

/* Columna Registro: ancho fijo */
.config-rele-subtabla th:nth-child(2),
.config-rele-subtabla td:nth-child(2) {
  width: 80px;
  text-align: center;
}

/* Columna TI/TV/Relación: se estira */
.config-rele-subtabla th:last-child,
.config-rele-subtabla td:last-child {
  width: 100%;
}

.config-rele-subtabla td {
  padding: 6px 10px;
  font-size: 0.85rem;
  color: #a1a1aa;
  border-bottom: 1px solid rgba(42, 52, 71, 0.5);
  white-space: nowrap;
}

.config-rele-subtabla tr:last-child td {
  border-bottom: none;
}

.config-rele-subtabla-input {
  width: 80px;
  padding: 5px 8px;
  background: #252b3b;
  border: 1px solid #2a3447;
  border-radius: 4px;
  color: #e4e4e7;
  font-size: 0.85rem;
  text-align: center;
}

.config-rele-subtabla-input:focus {
  outline: none;
  border-color: #2563eb;
}

.config-rele-subtabla-input:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* Ocultar spinners */
.config-rele-subtabla-input::-webkit-outer-spin-button,
.config-rele-subtabla-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.config-rele-subtabla-input {
  -moz-appearance: textfield;
}

/* Resumen de registros (colapsado) */
.config-rele-tabla-resumen {
  color: #71717a;
  font-size: 0.8rem;
  font-family: "Consolas", "Monaco", monospace;
}

/* Columna TI/TV */
.config-rele-tabla-transformador {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.config-rele-tabla-ti-tv-nombre {
  color: #93c5fd;
  font-size: 0.8rem;
  font-weight: 500;
}

.config-rele-tabla-ti-tv-formula {
  color: #71717a;
  font-size: 0.75rem;
  font-family: "Consolas", "Monaco", monospace;
}

.config-rele-tabla-sin-ti-tv {
  color: #52525b;
}

/* Transformador en subtabla (por registro) */
.config-rele-subtabla-transformador {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #93c5fd;
  font-size: 0.8rem;
}

.config-rele-subtabla-formula {
  color: #71717a;
  font-size: 0.75rem;
  font-family: "Consolas", "Monaco", monospace;
}

.config-rele-subtabla-sin-ti {
  color: #52525b;
}

/* ============================================================================
   RESPONSIVE
   ============================================================================ */

@media (max-width: 900px) {
  .config-rele-row-superior {
    grid-template-columns: 1fr;
  }

  .config-rele-row-inferior {
    grid-template-columns: 1fr;
  }

  .config-rele-seccion--funcionalidades {
    min-height: 300px;
  }
}

@media (max-width: 600px) {
  .config-rele-conexion-grid {
    grid-template-columns: 1fr 1fr;
  }

  .config-rele-conexion-grid .config-rele-campo-inline:first-child {
    grid-column: 1 / -1;
  }

  .config-rele-registros-row {
    grid-template-columns: 1fr;
  }

  .config-rele-plantilla-row {
    flex-wrap: wrap;
  }

  .config-rele-select {
    width: 100%;
  }

  .config-rele-btn-plantilla {
    flex: 1;
  }

  .config-rele-func-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  .config-rele-func-registro {
    width: 100%;
    justify-content: flex-end;
  }
}

/* ============================================================================
   INTERPRETACIÓN DE REGISTROS REF615
   Estilos para mostrar la decodificación binaria de registros de estado
   ============================================================================ */

/* Contenedor del registro con interpretación */
.config-rele-valores-registro-container {
  margin-bottom: 8px;
}

/* Sección de interpretación debajo del valor */
.config-rele-interpretacion {
  margin-top: 4px;
  margin-left: 8px;
  padding: 6px 10px;
  background: rgba(26, 31, 46, 0.8);
  border-left: 3px solid #4b5567;
  border-radius: 0 4px 4px 0;
}

/* Interpretación especial (estado de interruptor, etc.) */
.config-rele-interpretacion-especial {
  font-size: 0.85rem;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 4px;
  display: inline-block;
}

.config-rele-interpretacion-especial .interpretacion-estado {
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Contenedor de bits activos */
.config-rele-interpretacion-bits {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

/* Badge/chip para cada bit activo */
.config-rele-bit {
  font-size: 0.75rem;
  padding: 3px 8px;
  border-radius: 4px;
  cursor: help;
  transition: transform 0.1s, box-shadow 0.1s;
}

.config-rele-bit:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Sin señales activas */
.config-rele-interpretacion-vacio {
  color: #52525b;
  font-size: 0.8rem;
  font-style: italic;
}

/* ============================================================================
   CLASES DE TIPO PARA BITS E INTERPRETACIONES
   ============================================================================ */

/* Estado OK / Normal */
.interpretacion-ok {
  background: rgba(34, 197, 94, 0.2);
  border-color: #22c55e;
  color: #86efac;
}

.interpretacion-ok .interpretacion-estado {
  color: #22c55e;
}

/* Estado normal (indicador de estado) */
.interpretacion-estado {
  background: rgba(59, 130, 246, 0.15);
  color: #93c5fd;
}

/* Información */
.interpretacion-info {
  background: rgba(59, 130, 246, 0.15);
  color: #93c5fd;
}

/* Advertencia / Warning */
.interpretacion-warning {
  background: rgba(234, 179, 8, 0.2);
  color: #fde68a;
}

.config-rele-interpretacion-especial.interpretacion-warning {
  border: 1px solid #ca8a04;
}

/* Alarma */
.interpretacion-alarma {
  background: rgba(239, 68, 68, 0.2);
  color: #fca5a5;
}

.config-rele-interpretacion-especial.interpretacion-alarma {
  border: 1px solid #dc2626;
}

/* Error */
.interpretacion-error {
  background: rgba(220, 38, 38, 0.25);
  color: #fca5a5;
  border: 1px solid rgba(220, 38, 38, 0.5);
}

.config-rele-interpretacion-especial.interpretacion-error {
  background: rgba(220, 38, 38, 0.3);
  border: 1px solid #dc2626;
  animation: pulse-error 2s infinite;
}

/* Desconocido */
.interpretacion-unknown {
  background: rgba(113, 113, 122, 0.2);
  color: #a1a1aa;
}

/* Animación de pulso para errores */
@keyframes pulse-error {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(220, 38, 38, 0);
  }
}

/* Ajustar borde izquierdo de interpretación según tipo más grave */
.config-rele-interpretacion:has(.interpretacion-error) {
  border-left-color: #dc2626;
}

.config-rele-interpretacion:has(.interpretacion-alarma):not(:has(.interpretacion-error)) {
  border-left-color: #ef4444;
}

.config-rele-interpretacion:has(.interpretacion-warning):not(:has(.interpretacion-error)):not(:has(.interpretacion-alarma)) {
  border-left-color: #eab308;
}

.config-rele-interpretacion:has(.interpretacion-ok) {
  border-left-color: #22c55e;
}
