/* src/paginas/PaginaAlimentadores/componentes/tarjetas/GrillaTarjetas.css */
/*
   NOTA SOBRE ESTE ARCHIVO (GrillaTarjetas.css)
   - Estilos para la grilla de tarjetas y la tarjeta especial "+" / zona de drop.

   - `.alim-cards-grid` define el layout tipo flex con múltiples columnas, mientras
     que `.alim-card-add` reutiliza el tamaño/forma de una tarjeta para el botón
     de "Nuevo registrador" o el mensaje de "mover al final".
*/

/* Contenedor principal que incluye row gaps y la grilla */
.grilla-con-row-gaps {
   position: relative; /* para posicionar la grilla unifiliar */
   display: flex;
   flex-direction: column;
   width: 100%;
   min-height: 500px; /* altura mínima para que la grilla unifiliar sea visible */
   flex: 1; /* ocupar todo el espacio disponible del padre */
}

/* Contenedor de la grilla de tarjetas */
.alim-cards-grid {
   position: relative; /* para posicionar los RowGapResizers absolutamente */
   display: flex;
   flex-wrap: wrap;
   /* row-gap se aplica inline via style */
   justify-content: left; /* filas alineadas a la izquierda */
   padding-left: 1.2rem;
   align-items: stretch; /* para que GapResizer tenga la misma altura */
}

/* En pantallas más angostas, centramos la grilla y agregamos gap fijo */
@media (max-width: 982px) {
   .alim-cards-grid {
      justify-content: center;
      padding-left: 0;
      padding-right: 0;
      gap: 1rem; /* gap fijo entre tarjetas en modo móvil */
   }

   /* Centrar las tarjetas sin margin extra */
   .alim-card-wrapper {
      margin-left: 0;
   }

   /* Centrar también la tarjeta de agregar */
   .alim-card-add {
      margin-left: 0;
   }

   /* Ocultar los gap-spacers en modo móvil para que el centrado funcione */
   .gap-spacer {
      display: none;
   }
}

/* Wrapper que contiene solo la tarjeta */
.alim-card-wrapper {
   flex-shrink: 0;
}

/* Spacer para simular el gap cuando está en modo drag o mobile */
.gap-spacer {
   flex-shrink: 0;
}

/* Tarjeta especial: botón "+" o zona de drop al final */
.alim-card-add {
   box-sizing: border-box;
   border: 1px dashed #374151;
   background-color: #111827;
   color: #9ca3af;
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   gap: 0.25rem;
   cursor: pointer;
   border-radius: 16px;
   flex-shrink: 0;
   flex-grow: 0;
}

.alim-card-add-plus {
   font-size: 2rem;
   line-height: 1;
}

.alim-card-add-text {
   font-size: 0.85rem;
}

/* Título de cada bloque de medidores dentro de la tarjeta */
.alim-card-section-title {
   text-transform: uppercase;
}

/* RowGapResizer posicionado absolutamente sobre el espacio entre filas */
.row-gap-resizer-overlay {
   position: absolute;
   left: 0;
   right: 0;
   display: flex;
   justify-content: center;
   z-index: 10;
   pointer-events: none; /* El overlay no captura eventos, solo el RowGapResizer interno */
}

.row-gap-resizer-overlay > * {
   pointer-events: auto; /* El RowGapResizer interno sí captura eventos */
}

/* Mensaje cuando no hay alimentadores */
.alim-empty-message {
   color: #020202;
   font-size: 0.95rem;
   margin: 0 0 1rem 1.2rem;
}

/* =========================================================
   BOTÓN FLOTANTE PARA EDITAR DIAGRAMA UNIFILIAR
   ========================================================= */
.grilla-btn-editar-diagrama {
   position: fixed;
   bottom: 20px;
   right: 20px;
   width: 48px;
   height: 48px;
   border-radius: 50%;
   background-color: #0ea5e9;
   border: none;
   color: #ffffff;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
   z-index: 50;
   /* Invisible por defecto, transición lenta al desaparecer */
   opacity: 0;
   transition: opacity 0.5s ease, background-color 0.15s ease, transform 0.15s ease;
}

.grilla-btn-editar-diagrama:hover {
   background-color: #0284c7;
   color: #ffffff;
   transform: scale(1.1);
   /* Visible al pasar el ratón, transición rápida al aparecer */
   opacity: 1;
   transition: opacity 0.15s ease, background-color 0.15s ease, transform 0.15s ease;
}

.grilla-btn-editar-diagrama:active {
   transform: scale(0.95);
}

/* En móvil, ajustar posición del botón */
@media (max-width: 600px) {
   .grilla-btn-editar-diagrama {
      bottom: 16px;
      right: 16px;
      width: 44px;
      height: 44px;
   }
}

/* =========================================================
   BOTONES FLOTANTES PARA GUARDAR/CARGAR DIAGRAMA
   ========================================================= */
.grilla-btns-archivo {
   position: fixed;
   bottom: 20px;
   right: 20px;
   display: flex;
   flex-direction: column;
   gap: 10px;
   z-index: 102;
}

.grilla-btn-archivo {
   width: 48px;
   height: 48px;
   border-radius: 50%;
   border: none;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
   transition: background-color 0.15s ease, color 0.15s ease, transform 0.15s ease;
}

.grilla-btn-archivo:hover {
   transform: scale(1.1);
}

.grilla-btn-archivo:active {
   transform: scale(0.95);
}

/* Botón guardar - color celeste */
.grilla-btn-archivo--guardar {
   background-color: #0ea5e9;
   color: #ffffff;
}

.grilla-btn-archivo--guardar:hover {
   background-color: #0284c7;
}

/* Botón abrir - color celeste */
.grilla-btn-archivo--abrir {
   background-color: #0ea5e9;
   color: #ffffff;
}

.grilla-btn-archivo--abrir:hover {
   background-color: #0284c7;
}

/* En móvil, ajustar posición y tamaño */
@media (max-width: 600px) {
   .grilla-btns-archivo {
      bottom: 16px;
      right: 16px;
      gap: 8px;
   }

   .grilla-btn-archivo {
      width: 44px;
      height: 44px;
   }
}
